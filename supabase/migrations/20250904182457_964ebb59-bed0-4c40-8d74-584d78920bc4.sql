-- إعادة بناء ألعاب المطابقة لتطابق منهج الصف الحادي عشر 100%

-- 1. حذف جميع الأزواج الموجودة وإعادة بناءها
DELETE FROM pair_matching_pairs;

-- 2. حذف الألعاب الحالية وإنشاء ألعاب جديدة مطابقة للمنهج
DELETE FROM pair_matching_games;

-- 3. إنشاء الألعاب الجديدة حسب التسلسل الصحيح للمنهج
INSERT INTO pair_matching_games (id, title, description, grade_level, subject, difficulty_level, max_pairs, time_limit_seconds, level_number, stage_number, is_active) VALUES

-- المستوى 1: أساسيات الاتصال (יסודות התקשורת)
('01-01-components', 'مطابقة مركبات الاتصال الأساسية', 'تعرف على المضيف والشبكات والأجهزة في الاتصال', '11', 'communication', 'easy', 5, 300, 1, 1, true),
('01-02-topology', 'مطابقة الطوبولوجيا الفيزيائية والمنطقية', 'فهم الفرق بين البيئة الفيزيائية والمنطقية للشبكات', '11', 'topology', 'easy', 4, 240, 1, 2, true),
('01-03-networks', 'مطابقة أنواع الشبكات LAN WAN Internet', 'التمييز بين الشبكات المحلية والواسعة والإنترنت', '11', 'network_types', 'easy', 4, 240, 1, 3, true),
('01-04-connection', 'مطابقة طرق الاتصال بالإنترنت', 'تعلم وسائل الاتصال المختلفة للمنازل والمؤسسات', '11', 'internet_connection', 'easy', 4, 240, 1, 4, true),

-- المستوى 2: نظام تشغيل الراوتر/السويتش (מערכת הפעלה)
('02-01-access', 'مطابقة طرق الدخول للراوتر/السويتش', 'كونسول وTELNET وSSH وطرق الوصول', '11', 'device_access', 'medium', 5, 300, 2, 1, true),
('02-02-modes', 'مطابقة أوضاع العمل في نظام التشغيل', 'User EXEC Mode وPrivileged EXEC Mode والأوامر', '11', 'operating_modes', 'medium', 6, 360, 2, 2, true),
('02-03-config', 'مطابقة الإعدادات الأولية للأجهزة', 'Hostname وكلمات المرور والBanner والإعدادات', '11', 'device_config', 'medium', 5, 300, 2, 3, true),
('02-04-interfaces', 'مطابقة إدارة الواجهات والعناوين', 'ضبط IP وSVI والمنافذ الفيزيائية', '11', 'interfaces', 'medium', 6, 360, 2, 4, true),

-- المستوى 3: البروتوكولات والنماذج (פרוטוקולים ומודולים)  
('03-01-protocols', 'مطابقة قوانين البروتوكولات', 'فهم القوانين والمرسل والمستقبل والقناة المشتركة', '11', 'protocol_rules', 'medium', 4, 240, 3, 1, true),
('03-02-tcpip', 'مطابقة حزمة بروتوكولات TCP/IP', 'لماذا نحتاج بروتوكولات ومنظمات المعايير', '11', 'tcpip_suite', 'medium', 5, 300, 3, 2, true),
('03-03-layers', 'مطابقة نموذج الطبقات OSI وTCP/IP', 'فهم طبقات الشبكة ولماذا نستخدم النماذج', '11', 'layer_models', 'hard', 6, 360, 3, 3, true),
('03-04-encapsulation', 'مطابقة تغليف البيانات', 'تقسيم البيانات وأسماء الوحدات في كل طبقة', '11', 'data_encapsulation', 'hard', 5, 300, 3, 4, true),

-- المستوى 4: طرق الترقيم والعناوين (שיטות מספר)
('04-01-binary', 'مطابقة الطريقة الثنائية', 'فهم الأوكتت وتحويل العشري للثنائي والعكس', '11', 'binary_system', 'hard', 6, 360, 4, 1, true),
('04-02-ipv4', 'مطابقة عنوان IPv4', 'بنية العنوان وقناع الشبكة والPrefix', '11', 'ipv4_addressing', 'hard', 7, 420, 4, 2, true),
('04-03-ipv6', 'مطابقة عنوان IPv6', 'النظام السداسي العشري واختصار العناوين', '11', 'ipv6_addressing', 'hard', 6, 360, 4, 3, true),

-- المستوى 5: طبقات الشبكة التفصيلية
('05-01-physical', 'مطابقة الطبقة الفيزيائية', 'المعايير والمكونات وعرض النطاق والكابلات', '11', 'physical_layer', 'medium', 8, 480, 5, 1, true),
('05-02-datalink', 'مطابقة طبقة ربط البيانات', 'الإيثرنت والإطارات وعناوين MAC', '11', 'data_link', 'medium', 7, 420, 5, 2, true),
('05-03-network', 'مطابقة طبقة الشبكة', 'IPv4 وIPv6 والراوتر وجداول التوجيه', '11', 'network_layer', 'hard', 8, 480, 5, 3, true),
('05-04-transport', 'مطابقة طبقة النقل والتطبيقات', 'TCP وUDP والمنافذ وبروتوكولات التطبيقات', '11', 'transport_application', 'hard', 10, 600, 5, 4, true),

-- المستوى 6: المفاهيم المتقدمة
('06-01-switching', 'مطابقة مفاهيم السويتش', 'جداول MAC ومجالات التصادم والبث', '11', 'switching_concepts', 'medium', 6, 360, 6, 1, true),
('06-02-vlan', 'مطابقة مفاهيم VLAN', 'الشبكات الافتراضية وTrunk وVTP', '11', 'vlan_concepts', 'hard', 8, 480, 6, 2, true),
('06-03-dhcp', 'مطابقة بروتوكول DHCP', 'توزيع العناوين والمراحل الأربع والRelay', '11', 'dhcp_protocol', 'medium', 5, 300, 6, 3, true),
('06-04-security', 'مطابقة أمان السويتش والشبكات اللاسلكية', 'Port Security وأمان WLAN وطرق التشفير', '11', 'network_security', 'hard', 7, 420, 6, 4, true);

-- 4. إضافة أزواج المطابقة المطابقة للمنهج 100%

-- المستوى 1: أساسيات الاتصال
INSERT INTO pair_matching_pairs (game_id, left_content, right_content, left_type, right_type, explanation, order_index) VALUES
-- مركبات الاتصال الأساسية
('01-01-components', 'مضيف (Host)', 'جهاز طرفي يرسل أو يستقبل البيانات في الشبكة', 'term', 'definition', 'المضيف هو نقطة البداية أو النهاية في الاتصال', 1),
('01-01-components', 'شبكة عميل/خادم', 'نظام يحتوي على خادم مركزي يقدم خدمات للعملاء', 'term', 'definition', 'الخادم يقدم الخدمات والعملاء يطلبونها', 2),
('01-01-components', 'شبكة نظير إلى نظير', 'الأجهزة تتصل مباشرة ببعضها دون خادم مركزي', 'term', 'definition', 'كل جهاز يمكن أن يكون عميل أو خادم', 3),
('01-01-components', 'أجهزة طرفية', 'الأجهزة التي يستخدمها المستخدم مثل الحاسوب والهاتف', 'term', 'definition', 'هي الواجهة المباشرة بين الإنسان والشبكة', 4),
('01-01-components', 'أجهزة وسيطة', 'أجهزة تتحكم في مرور البيانات مثل السويتش والراوتر', 'term', 'definition', 'أشبه بشرطة المرور في الشبكة', 5),

-- الطوبولوجيا
('01-02-topology', 'الطوبولوجيا الفيزيائية', 'الشكل الفعلي لتوصيل الأجهزة والكابلات', 'term', 'definition', 'تحدد شكل التوصيل المادي للشبكة', 1),
('01-02-topology', 'الطوبولوجيا المنطقية', 'كيف تتحرك البيانات داخل الشبكة فعلياً', 'term', 'definition', 'تصف مسار البيانات بغض النظر عن الشكل المادي', 2),
('01-02-topology', 'وسائط الشبكة', 'الكابلات والإشارات اللاسلكية لنقل البيانات', 'term', 'definition', 'الطريق الذي تمر فيه البيانات', 3),
('01-02-topology', 'برنامج المحاكاة', 'برامج مثل Packet Tracer لمحاكاة الشبكات', 'term', 'definition', 'يُظهر الشبكة بشكل رسومي قبل التنفيذ', 4),

-- أنواع الشبكات
('01-03-networks', 'شبكة محلية LAN', 'تغطي مساحة صغيرة مثل بيت أو مدرسة', 'term', 'definition', 'سرعة عالية وتكلفة منخفضة', 1),
('01-03-networks', 'شبكة واسعة WAN', 'تغطي مسافات طويلة بين مدن أو دول', 'term', 'definition', 'تحتاج أجهزة قوية واتصالات متطورة', 2),
('01-03-networks', 'الإنترنت', 'أكبر WAN في العالم يُسمى شبكة الشبكات', 'term', 'definition', 'يربط ملايين الشبكات المحلية والواسعة', 3),
('01-03-networks', 'الفرق بين LAN وWAN', 'LAN للمساحة المحدودة بسرعة عالية، WAN للمسافات البعيدة', 'term', 'definition', 'كل نوع له استخدامه حسب المساحة والسرعة المطلوبة', 4),

-- طرق الاتصال بالإنترنت
('01-04-connection', 'وسائل الاتصال', 'DSL وألياف ضوئية وكابل وشبكات خلوية', 'term', 'definition', 'طرق مختلفة للوصول للإنترنت', 1),
('01-04-connection', 'الاتصال المنزلي', 'راوتر منزلي يوزع الإنترنت عبر Wi-Fi أو كابلات', 'term', 'definition', 'يربط البيت بمزود الخدمة', 2),
('01-04-connection', 'الشبكة المؤسسية', 'استخدام VPN وخطوط خاصة للمؤسسات الكبيرة', 'term', 'definition', 'تقنيات متقدمة لزيادة الأمان', 3),
('01-04-connection', 'مزود الخدمة ISP', 'الشركة التي توفر الإنترنت للمنازل والشركات', 'term', 'definition', 'حلقة الوصل بين المستخدم والإنترنت', 4);

-- إعادة تعيين تقدم اللاعبين لفتح اللعبة الأولى الجديدة
DELETE FROM player_game_progress;
DELETE FROM pair_matching_sessions;
DELETE FROM pair_matching_results;