-- Add the second section for Grade 11: Router/Switch Operating System
INSERT INTO public.grade11_sections (title, description, order_index, created_by) 
VALUES (
  'מערכת הפעלה של נתב / מתג – نظام تشغيل الراوتر/السويتش',
  'هذا القسم يعرّف الطالب على كيفية تشغيل وإدارة أجهزة الشبكات مثل الراوتر (Router) والسويتش (Switch). نتعلم طرق الدخول للجهاز، أوامر أساسية للتحكم، كيفية حفظ الإعدادات، وضبط عناوين IP. الهدف أن يكتسب الطالب مهارات عملية لإدارة بيئة شبكات حقيقية.',
  2,
  '00000000-0000-0000-0000-000000000000'
);

-- Get the section ID for the topics (we'll use a variable approach)
WITH section_data AS (
  SELECT id as section_id FROM public.grade11_sections 
  WHERE title = 'מערכת הפעלה של נתב / מתג – نظام تشغيل الراوتر/السويتش'
),

-- Insert topics for this section
topic_inserts AS (
  INSERT INTO public.grade11_topics (section_id, title, content, order_index)
  SELECT 
    section_id,
    topic_title,
    topic_content,
    topic_order
  FROM section_data,
  (VALUES
    ('שיטות גישה לנתב / מתג – طرق الدخول للراوتر/السويتش', 'طرق مختلفة للوصول وإدارة أجهزة الشبكات', 1),
    ('מצבים ראשיים של עבודה במערכת ההפעלה של נתב/מתג – أوضاع العمل الرئيسية في نظام التشغيل', 'الأوضاع المختلفة للعمل في نظام تشغيل أجهزة الشبكات', 2),
    ('הגדרות ראשוניות של נתב/מתג – إعدادات أولية للراوتر/السويتش', 'الإعدادات الأساسية المطلوبة لتشغيل الجهاز', 3),
    ('שמירת הגדרות – حفظ الإعدادات', 'كيفية حفظ وإدارة إعدادات الجهاز', 4),
    ('כתובות ופורטים פיזיים – عناوين ومنافذ فيزيائية', 'التعامل مع العناوين والمنافذ الفيزيائية', 5),
    ('הגדרת כתובת IP לנתב – ממשק SVI – ضبط عنوان IP عبر واجهة SVI', 'ضبط عناوين IP باستخدام الواجهات الافتراضية', 6)
  ) AS topics(topic_title, topic_content, topic_order)
  RETURNING id, title, order_index
)

-- Insert lessons for each topic
INSERT INTO public.grade11_lessons (topic_id, title, content, order_index)
SELECT 
  t.id,
  lesson_title,
  lesson_content,
  lesson_order
FROM topic_inserts t,
(VALUES
  -- Topic 1 lessons (שיטות גישה)
  ('שיטות גישה לנתב / מתג – طرق الدخول للراوتر/السويتش', 'كونسول، TELNET، SSH', 'الكونسول (Console) هو مدخل مباشر عبر كابل لإدارة الجهاز. (TELNET) و(SSH) يسمحان بالوصول عن بُعد عبر الشبكة؛ SSH أكثر أمانًا لأنه يستخدم التشفير.', 1),
  
  -- Topic 2 lessons (מצבים ראשיים)
  ('מצבים ראשיים של עבודה במערכת ההפעלה של נתב/מתג – أوضاع العمل الرئيسية في نظام التشغيل', 'User EXEC Mode', 'وضع المستخدم الأساسي، يسمح بتنفيذ أوامر بسيطة مثل اختبار الاتصال (ping) لكنه لا يمنح صلاحيات كبيرة.', 1),
  ('מצבים ראשיים של עבודה במערכת ההפעלה של נתב/מתג – أوضاع العمل الرئيسية في نظام التشغيل', 'Privileged EXEC Mode', 'وضع متقدم يتيح أوامر إدارية كاملة مثل عرض التهيئة أو إعادة تشغيل الجهاز، ويحتاج صلاحيات أعلى.', 2),
  ('מצבים ראשיים של עבודה במערכת ההפעלה של נתב/מתג – أوضاع العمل الرئيسية في نظام التشغيل', 'أوامر LINE مقابل أوامر INTERFACE', 'أوامر LINE تُستخدم لضبط الوصول مثل كلمة مرور الكونسول، بينما INTERFACE تُستخدم لضبط المنافذ والشبكات.', 3),
  ('מצבים ראשיים של עבודה במערכת ההפעלה של נתב/מתג – أوضاع العمل الرئيسية في نظام التشغيل', 'معنى الأقواس في سطر الأوامر', 'أحيانًا تظهر أوامر بين أقواس مربعة أو معقوفة؛ هذا يعني أنها اختيارية أو تُظهر متغيرًا يجب إدخاله من قبل المستخدم.', 4),
  ('מצבים ראשיים של עבודה במערכת ההפעלה של נתב/מתג – أوضاع العمل الرئيسية في نظام التشغيل', 'أوامر Enable مقابل Disable', 'الأمر (Enable) ينقل من وضع المستخدم لوضع المدير، بينما (Disable) يعيدك لوضع المستخدم العادي.', 5),
  ('מצבים ראשיים של עבודה במערכת ההפעלה של נתב/מתג – أوضاع العمل الرئيسية في نظام التشغيل', 'أوامر End وExit', '(Exit) للخروج من المستوى الحالي فقط، بينما (End) يخرج مباشرة إلى الوضع التنفيذي الرئيسي.', 6),
  ('מצבים ראשיים של עבודה במערכת ההפעלה של נתב/מתג – أوضاع العمل الرئيسية في نظام التشغيل', 'استخدام مفاتيح الاختصار', 'مثل Ctrl+Z أو Ctrl+C لتجاوز الأوامر أو الرجوع للقائمة الرئيسية، وهذه تسهّل العمل وتوفّر وقت.', 7),
  
  -- Topic 3 lessons (הגדרות ראשוניות)
  ('הגדרות ראשוניות של נתב/מתג – إعدادات أولية للراوتر/السويتش', 'تعريف اسم الجهاز', 'باستخدام الأمر (hostname) يمكن إعطاء الراوتر أو السويتش اسمًا يميّزه داخل الشبكة.', 1),
  ('הגדרות ראשוניות של נתב/מתג – إعدادات أولية للراوتر/السويتش', 'تعريف كلمة مرور', 'يتم ضبط كلمات مرور للوصول عبر الكونسول أو SSH لحماية الجهاز من المستخدمين غير المصرّح لهم.', 2),
  ('הגדרות ראשוניות של נתב/מתג – إعدادات أولية للراوتر/السويتش', 'إظهار النسخ الاحتياطية', 'الأمر (show) يمكّن من عرض إعدادات مخزنة أو حالة الذاكرة والجهاز.', 3),
  ('הגדרות ראשוניות של נתב/מתג – إعدادات أولية للراوتر/السويتش', 'إعلان Banner', 'رسالة ترحيب أو تحذير تظهر عند الدخول للجهاز، مثل تحذير "ممنوع الدخول لغير المصرّح لهم".', 4),
  
  -- Topic 4 lessons (שמירת הגדרות)
  ('שמירת הגדרות – حفظ الإعدادات', 'حفظ التهيئة startup-config وrunning-config', '(running-config) هي الإعدادات الحالية قيد التشغيل، بينما (startup-config) تُخزَّن في الذاكرة الدائمة وتُحمَّل عند التشغيل.', 1),
  ('שמירת הגדרות – حفظ الإعدادات', 'أوامر show للتحقق', 'أوامر (show) مثل show running-config تعرض الإعدادات لتأكيد أنها صحيحة قبل الحفظ النهائي.', 2),
  
  -- Topic 5 lessons (כתובות ופורטים)
  ('כתובות ופורטים פיזיים – عناوين ومنافذ فيزيائية', 'تعريف عنوان IP على جهاز', 'يمكن ضبط IP يدويًا أو تلقائيًا (DHCP)، وهذا يحدد هوية الجهاز على الشبكة.', 1),
  ('כתובות ופורטים פיזיים – عناوين ومنافذ فيزيائية', 'ما هو PORT الفيزيائي', 'المنفذ الفيزيائي هو فتحة في الجهاز لتوصيل الكابل، مثل منفذ Ethernet؛ يختلف عن المنفذ البرمجي (Port Number).', 2),
  ('כתובות ופורטים פיזיים – عناوين ومنافذ فيزيائية', 'فحص عنوان IP عبر ipconfig', 'باستخدام الأمر (ipconfig) على الحاسوب يمكن رؤية العنوان الذي حصل عليه الجهاز والتأكد من أنه يعمل.', 3),
  
  -- Topic 6 lessons (הגדרת כתובת IP)
  ('הגדרת כתובת IP לנתב – ממשק SVI – ضبط عنوان IP عبر واجهة SVI', 'تعريف SVI', 'الـ SVI (Switched Virtual Interface) واجهة افتراضية في السويتش تُمكّن من إعطائه عنوان IP لإدارته عن بُعد.', 1),
  ('הגדרת כתובת IP לנתב – ממשק SVI – ضبط عنوان IP عبر واجهة SVI', 'أهمية تعريف عنوان IP مع القناع', 'عند تعريف عنوان IP يجب تحديد (Subnet Mask) ليعرف الجهاز حدود الشبكة، مثل 255.255.255.0.', 2),
  ('הגדרת כתובת IP לנתב – ממשק SVI – ضبط عنوان IP عبر واجهة SVI', 'التحقق من تفعيل الواجهة', 'بعد الضبط يجب التأكد أن الواجهة مفعّلة باستخدام أوامر مثل no shutdown، وإلا فلن يعمل الاتصال.', 3),
  ('הגדרת כתובת IP לנתב – ממשק SVI – ضبط عنوان IP عبر واجهة SVI', 'اختبار الاتصال بين الأجهزة', 'بعد الضبط يتم التحقق باستخدام الأمر ping للتأكد من وجود تواصل ناجح بين الأجهزة المتصلة.', 4)
) AS lessons(topic_title, lesson_title, lesson_content, lesson_order)
WHERE t.title = lessons.topic_title;