-- المرحلة 1: حذف جميع الأسئلة المعطوبة وإنشاء بنك أسئلة متكامل للبطاقات الـ 10 الأولى
-- حذف جميع الأسئلة الحالية المعطوبة
DELETE FROM grade11_game_questions;

-- إنشاء أسئلة متكاملة للبطاقة الأولى: مضيف (Host)
INSERT INTO grade11_game_questions (lesson_id, question_text, question_type, choices, correct_answer, difficulty_level, explanation, points) VALUES
-- أسئلة سهلة
('16cab67c-9d0c-45b3-8b92-4c5c8ae7b9f1', 'ما هو المضيف في الشبكة؟', 'multiple_choice', '[{"id": "A", "text": "أي جهاز متصل بالشبكة"}, {"id": "B", "text": "فقط الخوادم"}, {"id": "C", "text": "فقط أجهزة الحاسوب"}, {"id": "D", "text": "فقط الطابعات"}]', 'A', 'easy', 'المضيف (Host) هو أي جهاز متصل بالشبكة سواء كان حاسوب، خادم، طابعة، هاتف ذكي، أو أي جهاز آخر', 10),

('16cab67c-9d0c-45b3-8b92-4c5c8ae7b9f1', 'المضيف يحتاج عنوان IP للاتصال بالشبكة', 'true_false', '[{"id": "true", "text": "صحيح"}, {"id": "false", "text": "خطأ"}]', 'true', 'easy', 'كل مضيف في الشبكة يحتاج إلى عنوان IP فريد للاتصال والتواصل مع الأجهزة الأخرى', 10),

('16cab67c-9d0c-45b3-8b92-4c5c8ae7b9f1', 'ما الذي يحتاجه المضيف للاتصال بالشبكة؟', 'multiple_choice', '[{"id": "A", "text": "عنوان IP"}, {"id": "B", "text": "كلمة مرور"}, {"id": "C", "text": "برنامج خاص"}, {"id": "D", "text": "إذن من المدير"}]', 'A', 'easy', 'العنوان IP هو المطلب الأساسي لأي مضيف للاتصال بالشبكة', 10),

-- أسئلة متوسطة
('16cab67c-9d0c-45b3-8b92-4c5c8ae7b9f1', 'أي من التالي يعتبر مضيف في شبكة المكتب؟', 'multiple_choice', '[{"id": "A", "text": "جميع الأجهزة المذكورة"}, {"id": "B", "text": "الحاسوب الشخصي فقط"}, {"id": "C", "text": "الطابعة الشبكية فقط"}, {"id": "D", "text": "الخادم فقط"}]', 'A', 'medium', 'جميع الأجهزة المتصلة بالشبكة تعتبر مضيفين: الحاسوب، الطابعة، الخادم، الهاتف الذكي، إلخ', 15),

('16cab67c-9d0c-45b3-8b92-4c5c8ae7b9f1', 'ما الفرق بين المضيف والخادم؟', 'multiple_choice', '[{"id": "A", "text": "الخادم نوع خاص من المضيفين"}, {"id": "B", "text": "لا يوجد فرق"}, {"id": "C", "text": "المضيف أقوى من الخادم"}, {"id": "D", "text": "الخادم لا يحتاج عنوان IP"}]', 'A', 'medium', 'الخادم (Server) هو نوع خاص من المضيفين يقدم خدمات للمضيفين الآخرين في الشبكة', 15),

-- أسئلة صعبة  
('16cab67c-9d0c-45b3-8b92-4c5c8ae7b9f1', 'في شبكة تحتوي على 100 مضيف، كم عنوان IP فريد مطلوب؟', 'multiple_choice', '[{"id": "A", "text": "100 عنوان IP فريد"}, {"id": "B", "text": "50 عنوان IP"}, {"id": "C", "text": "200 عنوان IP"}, {"id": "D", "text": "عنوان IP واحد للجميع"}]', 'A', 'hard', 'كل مضيف يحتاج عنوان IP فريد ومتميز، لذلك 100 مضيف يحتاج 100 عنوان IP مختلف', 20);

-- إنشاء أسئلة للبطاقة الثانية: شبكة نظير إلى نظير (Peer-to-Peer)
INSERT INTO grade11_game_questions (lesson_id, question_text, question_type, choices, correct_answer, difficulty_level, explanation, points) VALUES
-- أسئلة سهلة
('4f8e2b1a-3c7d-4e9f-8a5b-6d0c9e2f4a8b', 'ما خصائص شبكة النظير إلى النظير؟', 'multiple_choice', '[{"id": "A", "text": "الأجهزة تتصل مباشرة ببعضها"}, {"id": "B", "text": "تحتاج خادم مركزي"}, {"id": "C", "text": "معقدة التركيب"}, {"id": "D", "text": "مكلفة جداً"}]', 'A', 'easy', 'في شبكة النظير إلى النظير، الأجهزة تتصل مباشرة ببعضها البعض دون الحاجة لخادم مركزي', 10),

('4f8e2b1a-3c7d-4e9f-8a5b-6d0c9e2f4a8b', 'شبكة P2P لا تحتاج خادم مركزي', 'true_false', '[{"id": "true", "text": "صحيح"}, {"id": "false", "text": "خطأ"}]', 'true', 'easy', 'صحيح، شبكة النظير إلى النظير تعمل بدون خادم مركزي حيث كل جهاز يعمل كعميل وخادم في نفس الوقت', 10),

-- أسئلة متوسطة
('4f8e2b1a-3c7d-4e9f-8a5b-6d0c9e2f4a8b', 'أي من التالي مثال على شبكة النظير إلى النظير؟', 'multiple_choice', '[{"id": "A", "text": "شبكة منزلية بسيطة"}, {"id": "B", "text": "خادم ويب كبير"}, {"id": "C", "text": "قاعدة بيانات مركزية"}, {"id": "D", "text": "خادم بريد إلكتروني"}]', 'A', 'medium', 'الشبكة المنزلية البسيطة مثال جيد على شبكة النظير إلى النظير حيث الأجهزة تتشارك الملفات مباشرة', 15),

('4f8e2b1a-3c7d-4e9f-8a5b-6d0c9e2f4a8b', 'ما عيوب شبكة النظير إلى النظير؟', 'multiple_choice', '[{"id": "A", "text": "صعوبة الإدارة والأمان"}, {"id": "B", "text": "سرعة عالية جداً"}, {"id": "C", "text": "أمان مطلق"}, {"id": "D", "text": "إدارة سهلة جداً"}]', 'A', 'medium', 'من عيوب شبكة P2P صعوبة الإدارة المركزية وتحديات الأمان لأن كل جهاز مسؤول عن نفسه', 15),

-- أسئلة صعبة
('4f8e2b1a-3c7d-4e9f-8a5b-6d0c9e2f4a8b', 'في شبكة P2P تحتوي على 10 أجهزة، كم اتصال مباشر ممكن نظرياً؟', 'multiple_choice', '[{"id": "A", "text": "45 اتصال"}, {"id": "B", "text": "10 اتصالات"}, {"id": "C", "text": "100 اتصال"}, {"id": "D", "text": "20 اتصال"}]', 'A', 'hard', 'العدد الأقصى للاتصالات المباشرة = n(n-1)/2 حيث n عدد الأجهزة، لذلك 10×9/2 = 45 اتصال', 20);

-- إنشاء أسئلة للبطاقة الثالثة: شبكة عميل/خادم (Server-Client Network)
INSERT INTO grade11_game_questions (lesson_id, question_text, question_type, choices, correct_answer, difficulty_level, explanation, points) VALUES
-- أسئلة سهلة
('7a3e4d8c-2f5b-4a8e-9c1d-5b7f3e9a6c8d', 'في شبكة العميل/الخادم، ما دور الخادم؟', 'multiple_choice', '[{"id": "A", "text": "يقدم الخدمات للعملاء"}, {"id": "B", "text": "يطلب الخدمات من العملاء"}, {"id": "C", "text": "يراقب الشبكة فقط"}, {"id": "D", "text": "ينظف البيانات"}]', 'A', 'easy', 'الخادم (Server) يقدم الخدمات والموارد للعملاء (Clients) في الشبكة', 10),

('7a3e4d8c-2f5b-4a8e-9c1d-5b7f3e9a6c8d', 'العميل يطلب الخدمات من الخادم', 'true_false', '[{"id": "true", "text": "صحيح"}, {"id": "false", "text": "خطأ"}]', 'true', 'easy', 'صحيح، العميل (Client) يطلب الخدمات والموارد من الخادم', 10),

-- أسئلة متوسطة
('7a3e4d8c-2f5b-4a8e-9c1d-5b7f3e9a6c8d', 'ما مميزات شبكة العميل/الخادم؟', 'multiple_choice', '[{"id": "A", "text": "إدارة مركزية وأمان أفضل"}, {"id": "B", "text": "تكلفة أقل"}, {"id": "C", "text": "بساطة التركيب"}, {"id": "D", "text": "لا تحتاج صيانة"}]', 'A', 'medium', 'شبكة العميل/الخادم توفر إدارة مركزية أفضل وأمان أعلى ونسخ احتياطي منتظم', 15),

('7a3e4d8c-2f5b-4a8e-9c1d-5b7f3e9a6c8d', 'أي من التالي مثال على خدمة خادم؟', 'multiple_choice', '[{"id": "A", "text": "جميع ما ذُكر"}, {"id": "B", "text": "خادم ملفات"}, {"id": "C", "text": "خادم طباعة"}, {"id": "D", "text": "خادم قواعد البيانات"}]', 'A', 'medium', 'الخوادم تقدم خدمات متنوعة: ملفات، طباعة، قواعد بيانات، بريد إلكتروني، ويب، إلخ', 15),

-- أسئلة صعبة
('7a3e4d8c-2f5b-4a8e-9c1d-5b7f3e9a6c8d', 'ماذا يحدث إذا تعطل الخادم في شبكة العميل/الخادم؟', 'multiple_choice', '[{"id": "A", "text": "توقف جميع الخدمات المعتمدة عليه"}, {"id": "B", "text": "تعمل الشبكة بشكل طبيعي"}, {"id": "C", "text": "تتحسن سرعة الشبكة"}, {"id": "D", "text": "تقل التكلفة التشغيلية"}]', 'A', 'hard', 'تعطل الخادم يعني توقف جميع الخدمات المعتمدة عليه، لذلك نحتاج خوادم احتياطية وخطط طوارئ', 20);

-- إنشاء أسئلة للبطاقة الرابعة: هدف العناوين في الشبكة
INSERT INTO grade11_game_questions (lesson_id, question_text, question_type, choices, correct_answer, difficulty_level, explanation, points) VALUES
-- أسئلة سهلة
('3c5d6fcd-0fac-423a-82d1-ddffdb1f7716', 'ما الهدف من العناوين في الشبكة؟', 'multiple_choice', '[{"id": "A", "text": "تحديد هوية الأجهزة"}, {"id": "B", "text": "تشفير البيانات"}, {"id": "C", "text": "تسريع الإنترنت"}, {"id": "D", "text": "توفير الكهرباء"}]', 'A', 'easy', 'العناوين في الشبكة تهدف إلى تحديد هوية كل جهاز بشكل فريد لضمان وصول البيانات للوجهة الصحيحة', 10),

('3c5d6fcd-0fac-423a-82d1-ddffdb1f7716', 'كل جهاز في الشبكة يحتاج عنوان فريد', 'true_false', '[{"id": "true", "text": "صحيح"}, {"id": "false", "text": "خطأ"}]', 'true', 'easy', 'صحيح، كل جهاز يحتاج عنوان فريد ومتميز لتجنب التعارض وضمان التواصل الصحيح', 10),

-- أسئلة متوسطة
('3c5d6fcd-0fac-423a-82d1-ddffdb1f7716', 'من كم جزء يتكون عنوان IPv4؟', 'multiple_choice', '[{"id": "A", "text": "جزأين: الشبكة والمضيف"}, {"id": "B", "text": "ثلاثة أجزاء"}, {"id": "C", "text": "جزء واحد فقط"}, {"id": "D", "text": "أربعة أجزاء منفصلة"}]', 'A', 'medium', 'عنوان IPv4 يتكون من جزأين: جزء الشبكة (Network) وجزء المضيف (Host)', 15),

('3c5d6fcd-0fac-423a-82d1-ddffdb1f7716', 'ماذا يحدث إذا كان لجهازين نفس عنوان IP؟', 'multiple_choice', '[{"id": "A", "text": "تعارض في الشبكة وفشل الاتصال"}, {"id": "B", "text": "تسريع الاتصال"}, {"id": "C", "text": "لا يحدث شيء"}, {"id": "D", "text": "توفير في الذاكرة"}]', 'A', 'medium', 'تكرار عنوان IP يسبب تعارض يؤدي إلى فشل الاتصال لأن الشبكة لا تعرف لأي جهاز ترسل البيانات', 15),

-- أسئلة صعبة
('3c5d6fcd-0fac-423a-82d1-ddffdb1f7716', 'في شبكة Class C، كم جهاز يمكن ربطه نظرياً؟', 'multiple_choice', '[{"id": "A", "text": "254 جهاز"}, {"id": "B", "text": "256 جهاز"}, {"id": "C", "text": "1024 جهاز"}, {"id": "D", "text": "65536 جهاز"}]', 'A', 'hard', 'شبكة Class C تستخدم 8 بت للمضيف = 2^8-2 = 254 عنوان صالح (نطرح عنوان الشبكة والبث)', 20);

-- إنشاء أسئلة للبطاقة الخامسة: Hostname  
INSERT INTO grade11_game_questions (lesson_id, question_text, question_type, choices, correct_answer, difficulty_level, explanation, points) VALUES
-- أسئلة سهلة
('e8a2c4f6-9b5d-4e3a-8c7f-2d6b9e4f8a1c', 'ما هو Hostname؟', 'multiple_choice', '[{"id": "A", "text": "اسم مفهوم للإنسان يمثل عنوان IP"}, {"id": "B", "text": "نوع من الكابلات"}, {"id": "C", "text": "برنامج حماية"}, {"id": "D", "text": "نوع من الفيروسات"}]', 'A', 'easy', 'Hostname هو اسم مفهوم للإنسان يمثل جهاز معين في الشبكة بدلاً من استخدام عنوان IP الرقمي', 10),

('e8a2c4f6-9b5d-4e3a-8c7f-2d6b9e4f8a1c', 'Hostname أسهل في التذكر من عنوان IP', 'true_false', '[{"id": "true", "text": "صحيح"}, {"id": "false", "text": "خطأ"}]', 'true', 'easy', 'صحيح، أسماء مثل www.google.com أسهل في التذكر من 172.217.16.14', 10),

-- أسئلة متوسطة  
('e8a2c4f6-9b5d-4e3a-8c7f-2d6b9e4f8a1c', 'ما الخدمة المسؤولة عن تحويل Hostname إلى IP؟', 'multiple_choice', '[{"id": "A", "text": "DNS (Domain Name System)"}, {"id": "B", "text": "DHCP"}, {"id": "C", "text": "HTTP"}, {"id": "D", "text": "FTP"}]', 'A', 'medium', 'DNS (Domain Name System) مسؤول عن تحويل أسماء النطاقات والمضيفين إلى عناوين IP', 15),

('e8a2c4f6-9b5d-4e3a-8c7f-2d6b9e4f8a1c', 'أي من التالي مثال صحيح على Hostname؟', 'multiple_choice', '[{"id": "A", "text": "server1.company.com"}, {"id": "B", "text": "192.168.1.1"}, {"id": "C", "text": "255.255.255.0"}, {"id": "D", "text": "00:1A:2B:3C:4D:5E"}]', 'A', 'medium', 'server1.company.com مثال على hostname، بينما الباقي عناوين رقمية (IP و MAC)', 15),

-- أسئلة صعبة
('e8a2c4f6-9b5d-4e3a-8c7f-2d6b9e4f8a1c', 'ما يحدث عند فشل خدمة DNS؟', 'multiple_choice', '[{"id": "A", "text": "لا يمكن الوصول للمواقع بالأسماء"}, {"id": "B", "text": "توقف الإنترنت تماماً"}, {"id": "C", "text": "تسريع التصفح"}, {"id": "D", "text": "تحسين الأمان"}]', 'A', 'hard', 'عند فشل DNS، يمكن الوصول للمواقع بعناوين IP المباشرة لكن ليس بالأسماء المألوفة', 20);